{"ast":null,"code":"import React,{useState,useEffect}from'react';import Planet from'../Planet/planet.js';import'./RouteFinder.css';import FlightInfo from'../Flight/FlightInfo.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RouteFinder(){const[fromPlanet,setFromPlanet]=useState('');const[toPlanet,setToPlanet]=useState('');const[mode,setMode]=useState('selecting');const[flights,setFlightInfo]=useState([]);const[displayLimit,setDisplayLimit]=useState(5);const apiURL='http://localhost:5299';useEffect(()=>{if(fromPlanet&&toPlanet){setMode('selected');}else if(fromPlanet){setMode('deselected');}else{setMode('selecting');}},[fromPlanet,toPlanet]);const handlePlanetClick=planet=>{if(mode==='selecting'){setFromPlanet(planet);}else if(mode==='deselected'){setToPlanet(planet);}else if(mode==='selected'){setMode('deselected');return;}};const validateForm=event=>{event.preventDefault();if((fromPlanet===''||toPlanet==='')&&event.target.value==='submit'){alert('Please select a planet for both Origin and Destination.');return;}if(fromPlanet===toPlanet&&fromPlanet!==''&&toPlanet!==''){alert('From and To locations cannot be the same planet.');setToPlanet('');return;}};const handleClearClick=()=>{setFromPlanet('');setToPlanet('');};const handleSearch=()=>{searchRoutes(fromPlanet,toPlanet);};const searchRoutes=(fromPlanet,toPlanet)=>{const url=apiURL+\"/api/FlightFinder?startLoc=\".concat(fromPlanet,\"&endLoc=\").concat(toPlanet);fetch(url).then(response=>response.json()).then(data=>{setFlightInfo(data);setDisplayLimit(5);console.log(data);}).catch(error=>{console.error('Error fetching data:',error);});};return/*#__PURE__*/_jsx(\"div\",{className:\"route-finder-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:flights.length>0?\"searchbox-with-results\":\"searchbox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Select an Origin and Destination\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:validateForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"planet-container\",children:[/*#__PURE__*/_jsx(Planet,{planet:\"Mercury\",onClick:()=>handlePlanetClick(\"Mercury\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Venus\",onClick:()=>handlePlanetClick(\"Venus\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Earth\",onClick:()=>handlePlanetClick(\"Earth\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Mars\",onClick:()=>handlePlanetClick(\"Mars\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Jupiter\",onClick:()=>handlePlanetClick(\"Jupiter\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Saturn\",onClick:()=>handlePlanetClick(\"Saturn\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Uranus\",onClick:()=>handlePlanetClick(\"Uranus\")}),/*#__PURE__*/_jsx(Planet,{planet:\"Neptune\",onClick:()=>handlePlanetClick(\"Neptune\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"selected-planets\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Origin: \",fromPlanet||'']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Destination: \",toPlanet||'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-button\",type:\"submit\",onClick:()=>handleSearch(),value:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",onClick:()=>handleClearClick(),children:\" Clear\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"route-info-wrapper\",children:flights.slice(0,displayLimit).map((flight,index)=>/*#__PURE__*/_jsx(FlightInfo,{flightInfo:flight},index))})]})});}export default RouteFinder;","map":{"version":3,"names":["React","useState","useEffect","Planet","FlightInfo","jsx","_jsx","jsxs","_jsxs","RouteFinder","fromPlanet","setFromPlanet","toPlanet","setToPlanet","mode","setMode","flights","setFlightInfo","displayLimit","setDisplayLimit","apiURL","handlePlanetClick","planet","validateForm","event","preventDefault","target","value","alert","handleClearClick","handleSearch","searchRoutes","url","concat","fetch","then","response","json","data","console","log","catch","error","className","children","length","onSubmit","onClick","type","slice","map","flight","index","flightInfo"],"sources":["E:/Github/Cosmos-Oddysey/cosmos-oddysey-frontend/src/Components/RouteFinder/RouteFinder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Planet from '../Planet/planet.js';\r\nimport './RouteFinder.css';\r\nimport FlightInfo from '../Flight/FlightInfo.js';\r\n\r\nfunction RouteFinder() {\r\n  const [fromPlanet, setFromPlanet] = useState('');\r\n  const [toPlanet, setToPlanet] = useState('');\r\n  const [mode, setMode] = useState('selecting');\r\n\r\n  const [flights, setFlightInfo] = useState([]);\r\n  const [displayLimit, setDisplayLimit] = useState(5);\r\n\r\n  const apiURL = 'http://localhost:5299';\r\n\r\n  useEffect(() => {\r\n    if (fromPlanet && toPlanet) {\r\n      setMode('selected');\r\n    } else if (fromPlanet) {\r\n      setMode('deselected');\r\n    } else {\r\n      setMode('selecting');\r\n    }\r\n  }, [fromPlanet, toPlanet]);\r\n\r\n  const handlePlanetClick = (planet) => {\r\n    if (mode === 'selecting') {\r\n      setFromPlanet(planet);\r\n    } else if (mode === 'deselected') {\r\n      setToPlanet(planet);\r\n    } else if (mode === 'selected') {\r\n      setMode('deselected');\r\n      return;\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const validateForm = (event) => {\r\n    event.preventDefault();\r\n    if ((fromPlanet === '' || toPlanet === '') && event.target.value === 'submit') {\r\n      alert('Please select a planet for both Origin and Destination.');\r\n      return;\r\n    }\r\n    if (fromPlanet === toPlanet && fromPlanet !== '' && toPlanet !== '') {\r\n      alert('From and To locations cannot be the same planet.');\r\n      setToPlanet('');\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleClearClick = () => {\r\n    setFromPlanet('');\r\n    setToPlanet('');\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    searchRoutes(fromPlanet, toPlanet);\r\n  };\r\n\r\n  const searchRoutes = (fromPlanet, toPlanet) => {\r\n    const url = apiURL + `/api/FlightFinder?startLoc=${fromPlanet}&endLoc=${toPlanet}`;\r\n\r\n    fetch(url)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setFlightInfo(data);\r\n        setDisplayLimit(5);\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"route-finder-container\">\r\n      <div className={flights.length > 0 ? \"searchbox-with-results\" : \"searchbox\"}>\r\n        <h1>Select an Origin and Destination</h1>\r\n        <form onSubmit={validateForm}>\r\n          <div className=\"planet-container\">\r\n            <Planet\r\n              planet=\"Mercury\"\r\n              onClick={() => handlePlanetClick(\"Mercury\")}\r\n            />\r\n            <Planet\r\n              planet=\"Venus\"\r\n              onClick={() => handlePlanetClick(\"Venus\")}\r\n            />\r\n            <Planet\r\n              planet=\"Earth\"\r\n              onClick={() => handlePlanetClick(\"Earth\")}\r\n            />\r\n            <Planet\r\n              planet=\"Mars\"\r\n              onClick={() => handlePlanetClick(\"Mars\")}\r\n            />\r\n            <Planet\r\n              planet=\"Jupiter\"\r\n              onClick={() => handlePlanetClick(\"Jupiter\")}\r\n            />\r\n            <Planet\r\n              planet=\"Saturn\"\r\n              onClick={() => handlePlanetClick(\"Saturn\")}\r\n            />\r\n            <Planet\r\n              planet=\"Uranus\"\r\n              onClick={() => handlePlanetClick(\"Uranus\")}\r\n            />\r\n            <Planet\r\n              planet=\"Neptune\"\r\n              onClick={() => handlePlanetClick(\"Neptune\")}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"selected-planets\">\r\n            <p>Origin: {fromPlanet || ''}</p>\r\n            <p>Destination: {toPlanet || ''}</p>\r\n          </div>\r\n          <div className=\"buttons\">\r\n            <input className=\"search-button\" type=\"submit\" onClick={() => handleSearch()} value = \"Search\" />\r\n            <button className=\"search-button\" onClick={() => handleClearClick()}> Clear</button>\r\n          </div>\r\n        </form>\r\n        <div className=\"route-info-wrapper\">\r\n          {flights.slice(0, displayLimit).map((flight, index) => (\r\n            <FlightInfo key={index} flightInfo={flight} />\r\n          )\r\n          )}\r\n        </div>\r\n      </div >\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default RouteFinder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}